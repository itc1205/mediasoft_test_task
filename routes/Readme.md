# Flask Blueprints

## `city_handlers.py`

Хендлер для путей /city/

- / - для получения всех городов

- /<city_id>/street/ - для получения всех улиц конкретного города
    
    - __В случае успешного запроса сервер вернет страницу с улицами, иначе 400 ошибку__ 


## `error_handler.py`

- Хендлер ошибок, возвращает страницы с описаниями ошибок

    - __В случае 500 ошибки также вернет описание Exception'а который положил сервер__

        _Было очень полезно иметь такую страницу при разработке запросов_


## `index_handler.py`
- Хендлер главной страницы

## `shop_handler.py`
Хендлер для путей /shop/


- /
    - GET - вернет список магазинов
        - также можно параметры в запрос для фильтрации магазинов

            ### Список параметров

            1. __street__ - фильтр по улице
            2. __city__ - фильтр по городу
            3. __open__ - фильтр по открытым/закрытым по времени сервера магазина

                __Пример запроса:__ `/shop/?street=Ryabikova&city=Ul'yanovsk&open=1`

                - Данный запрос получит все открытые магазины по улице Ryabikova в городе Ul'yanovsk

    - POST - Запрос на добавление магазина
        - Должен получить json-обьект магазина вида
            ```json
            {
                "shop" : {
                    "name"  : "Пятерочка",
                    "city"  : "Дмитровград",
                    "street": "Пушкинская",
                    "house" : 50,
                    "opening_time" : "09:00",
                    "closing_time" : "20:00"
                }
            }
            ```
        - В случае неудачи парсинга json'а вернет 400
    
- /form
    
    - Удобная форма для создания записей в базе данных
    
    - Под капотом отправляет POST запросы с json'ом по адресу /shop/ 
    
        _скрипт отвечающий за POST запрос  `/static/js/post.js`_

    